<VirtualHost *:80>
    ServerName monitoring.stoyandimov.com

    # Redirect to HTTPs for session requests
    Redirect permanent / https://monitoring.stoyandimov.com

    # Log config
    ErrorLog /var/log/apache2/scho-dot-com-monitoring/error.log
    CustomLog /var/log/apache2/scho-dot-com-monitoring/access.log combined
</VirtualHost>

<IfModule mod_ssl.c>
    <VirtualHost *:443>
        ServerName monitoring.stoyandimov.com

        DocumentRoot /var/www/monitoring
        
        <Directory "/var/www/monitoring">
            Require host monitoring.stoyandimov.com
            Require all granted
        </Directory>

        # Log config
        ErrorLog /var/log/apache2/scho-dot-com-monitoring/error.log
        CustomLog /var/log/apache2/scho-dot-com-monitoring/access.log combined

        # SSL config
        SSLEngine on
        SSLCertificateFile        /etc/ssl/certs/stoyandimov.com.crt
        SSLCertificateKeyFile     /etc/ssl/private/stoyandimov.com.key
        SSLCertificateChainFile   /etc/ssl/certs/stoyandimov.com.chain.crt
    </VirtualHost>
</IfModule>